<!--
  In this example we exploit the code's original runtime behaviour
  by simply manipulating the data used while execution
-->
<script>
  let code = `console.log({ test: 666 }.test);`;
</script>

<script type="text/javascript" src="../../dist/iroh.js"></script>
<script type="text/javascript">
let stage = new Iroh.Stage(code);
let listener = stage.addListener(Iroh.ALLOC)
listener.on("fire", (e) => {
  e.value.test = 42;
});
eval(stage.script);
</script>
